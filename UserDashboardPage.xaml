<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Mockup.UserDashboardPage"
             Title="Iron Revolution Center">

    <ContentPage.ToolbarItems>
        <ToolbarItem Text="Cerrar sesión"
                     IconImageSource="logout.png"
                     Order="Primary"
                     Priority="0"
                     Clicked="OnLogoutClicked"/>
    </ContentPage.ToolbarItems>

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">
            <HorizontalStackLayout Spacing="10">
                <Image Source="user.png" WidthRequest="40" HeightRequest="40" />

                <VerticalStackLayout>
                    <Label Text="{Binding Username}" FontSize="20" FontAttributes="Bold" />
                    <Label Text="{Binding UserNumber}" FontSize="16" TextColor="Gray" />
                </VerticalStackLayout>
            </HorizontalStackLayout>

            <!-- Información del Usuario -->
            <Frame CornerRadius="10" Padding="10" BorderColor="Gray">
                <VerticalStackLayout>
                    <Label Text="Información: " FontSize="18" FontAttributes="Bold" />
                    <StackLayout Padding="10" Spacing="10">
                        <HorizontalStackLayout>
                            <Label Text="Tipo de sangre: " FontSize="16" FontAttributes="Bold"/>
                            <Label Text="{Binding BloodType}" FontSize="16" />
                        </HorizontalStackLayout>
                        <HorizontalStackLayout>
                            <Label Text="Membresía: " FontSize="16" FontAttributes="Bold"/>
                            <Label Text="{Binding Membership}" FontSize="16" />
                        </HorizontalStackLayout>
                        <HorizontalStackLayout>
                            <Label Text="Fecha de finalización: " FontSize="16" FontAttributes="Bold"/>
                            <Label Text="{Binding ExpirationDate}" FontSize="16" />
                        </HorizontalStackLayout>
                        <HorizontalStackLayout>
                            <Label Text="Observaciones: " FontSize="16" FontAttributes="Bold"/>
                            <Label Text="{Binding Observations}" FontSize="16" />
                        </HorizontalStackLayout>
                    </StackLayout>
                </VerticalStackLayout>
            </Frame>

            <VerticalStackLayout Spacing="20">
                <Button x:Name="RoutineButton" Text="Rutinas" FontSize="16" BackgroundColor="Black" TextColor="White" Clicked="OnShowRoutineButtons"
                    HorizontalOptions="FillAndExpand"/>

                <!-- Botones centrados en el grid -->
                <VerticalStackLayout x:Name="DaysButtonsLayout" IsVisible="False" Spacing="8" HorizontalOptions="Center">
                    <Grid ColumnSpacing="10" RowSpacing="10" HorizontalOptions="Center">
                        <!-- Definir filas y columnas -->
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Primera fila -->
                        <Button Text="Lunes" Clicked="OnDaySelected" CommandParameter="RoutineMondayPage" 
                            BackgroundColor="LightGray" TextColor="Black" HeightRequest="40" WidthRequest="100" FontSize="14"
                            Grid.Row="0" Grid.Column="0"/>

                        <Button Text="Martes" Clicked="OnDaySelected" CommandParameter="RoutineTuesdayPage" 
                            BackgroundColor="LightGray" TextColor="Black" HeightRequest="40" WidthRequest="100" FontSize="14"
                            Grid.Row="0" Grid.Column="1"/>

                        <Button Text="Miércoles" Clicked="OnDaySelected" CommandParameter="RoutineWednesdayPage" 
                            BackgroundColor="LightGray" TextColor="Black" HeightRequest="40" WidthRequest="100" FontSize="14"
                            Grid.Row="0" Grid.Column="2"/>

                        <!-- Segunda fila -->
                        <Button Text="Jueves" Clicked="OnDaySelected" CommandParameter="RoutineThursdayPage" 
                            BackgroundColor="LightGray" TextColor="Black" HeightRequest="40" WidthRequest="100" FontSize="14"
                            Grid.Row="1" Grid.Column="0"/>

                        <Button Text="Viernes" Clicked="OnDaySelected" CommandParameter="RoutineFridayPage" 
                            BackgroundColor="LightGray" TextColor="Black" HeightRequest="40" WidthRequest="100" FontSize="14"
                            Grid.Row="1" Grid.Column="1"/>

                        <Button Text="Sábado" Clicked="OnDaySelected" CommandParameter="RoutineSaturdayPage" 
                            BackgroundColor="LightGray" TextColor="Black" HeightRequest="40" WidthRequest="100" FontSize="14"
                            Grid.Row="1" Grid.Column="2"/>

                        <!-- Domingo centrado -->
                        <Button Text="Domingo" Clicked="OnDaySelected" CommandParameter="RoutineSundayPage"
                            BackgroundColor="LightGray" TextColor="Black" HeightRequest="42" WidthRequest="100" FontSize="14"
                            Grid.Row="2" Grid.Column="1" HorizontalOptions="Center"/>
                    </Grid>
                </VerticalStackLayout>

                <Picker x:Name="RoutinePicker"
                ItemsSource="{Binding RoutineOptions}"
                SelectedItem="{Binding SelectedRoutine}"
                Title="Selecciona el músculo a entrenar"
                IsVisible="False"/>

                <Picker x:Name="DetailedRoutinePicker"
                ItemsSource="{Binding DetailedRoutines}"
                SelectedItem="{Binding SelectedDetailedRoutine}"
                Title="Selecciona una rutina detallada"
                IsVisible="{Binding IsRoutineVisible}"/>

                <Button x:Name="ActivityButton" Text="Actividad" FontSize="16" BackgroundColor="Black" TextColor="White" Clicked="OnShowDatePicker"
                    HorizontalOptions="FillAndExpand"/>

                <DatePicker x:Name="ActivityDatePicker"
                    Date="{Binding SelectedDate}"
                    Format="D"
                    IsVisible="False"
                    MaximumDate="{Binding Today}"
                    DateSelected="OnDateSelected"/>
            </VerticalStackLayout>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
